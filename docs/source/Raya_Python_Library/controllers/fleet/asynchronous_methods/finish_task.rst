========================
finish_task()
========================

.. raw:: html

    <hr/>


This method indicates to the fleet that a task was finished, it will
show a message and a status.

Reference
==============

Arguments
-------------

============ ======================= ============= ================================================
Arguments    Type                    Default value Description
============ ======================= ============= ================================================
result       ``FLEET_FINISH_STATUS``               Status of the task
task_id      ``str``                 None          Task id generated by the fleet manager
message      ``str``                 None          Message to show on the fleet manager status
============ ======================= ============= ================================================

See the :ref:`complete list of fleet enumerations <fleet_enumerations>`

Return
-------------

``None``

Exceptions
-------------

-  ``TypeError``

See the :ref:`complete list of fleet exceptions <fleet_exceptions>`

Usage Example
=================

.. code-block:: python

   from raya.application_base import RayaApplicationBase
   from raya.controllers.fleet_controller import FleetController
   from raya.enumerations import FLEET_UPDATE_STATUS

   class RayaApplication(RayaApplicationBase):

       async def setup(self):
           self.fleet: FleetController = await self.enable_controller('fleet')

       async def loop(self):
           self.finish_app()

       async def finish(self):
           await self.fleet.finish_task(
               result=FLEET_FINISH_STATUS.SUCCESS,
               message='finish ok'
           )

In the fleet manager you should see this on the task details.

.. figure:: /_static/finish_task.png
   :alt: finish_task.png
   :align: center
   :height: 499px
   :width: 418px
